# Cloudflare Tunnel Configuration for FukaiBox
# fukaibox.kanjousekai.jp

tunnel: <TUNNEL_ID>
credentials-file: /home/fukaibox/.cloudflared/<TUNNEL_ID>.json

ingress:
  # FastAPI Backend
  - hostname: fukaibox.kanjousekai.jp
    path: /api/*
    service: http://localhost:8000
    originRequest:
      noTLSVerify: true

  # WebSocket
  - hostname: fukaibox.kanjousekai.jp
    path: /ws
    service: http://localhost:8000
    originRequest:
      noTLSVerify: true

  # Static files / Frontend
  - hostname: fukaibox.kanjousekai.jp
    service: http://localhost:80
    originRequest:
      noTLSVerify: true

  # Catch-all
  - service: http_status:404
