封解Box × Material Design 3 × HeroUI 究極デザイン聖典 (Ver 16.0 Ultimate Guard)

1. デザインの物理法則 (Physical Constants)

AIエージェントは以下の数値を「不変の定数」とし、計算外の数値を一切生成してはならない。

A. 8dp グリッド・スペーシング (Spacing System)

デザインの呼吸（余白）はすべて以下の px スケールに固定する。

2px (XXXS): ボーダー調整、極小の重なり用。

4px (XXS): チップ内アイコン、ボタン内アイコン間隔 (gap-1)。

8px (XS): コンポーネント内の要素間隔 (gap-2)。

12px (Small): サブカード、リストアイテムのパディング (p-3)。

16px (Medium): 標準的なパディング、入力欄、カードの行間 (p-4, gap-4)。

24px (Large): コンポーネント間のギャップ、フォームの垂直間隔 (p-6, gap-6)。

32px (XL): メインボード、モーダルの内部パディング (p-8, gap-8)。

48px (XXL): セクション間の大きな区切り (gap-12)。

64px (XXXL): ページ全体の上下マージン (p-16)。

B. 角丸階層 (Radius Hierarchy)

画像解析に基づき、情報の「包容力」を最大化する。

Extra Large (28px): rounded-[28px] (Main Card, Modal, Drawer, Main Container)

Large (20px): rounded-[20px] (Sidebar, Table, Accordion, Image, Secondary Card)

Medium (16px): rounded-[16px] (Input, Autocomplete, Alert, User, Avatar, Skeleton)

Pill (Full): rounded-full (Button, Chip, Tab, Switch, Search Bar)

C. 色彩マッピング (#904a40 Palette)

背景色（Container）と文字色（On-Container）のペアは以下を絶対遵守せよ。

役割

トークン名

背景 (Container)

文字 (On-Container)

用途

Primary

primary

#ffdad5

#73342b

強調、アクティブ状態

Warning

warning

#fbe7a6

#564419

警告、推敲提案、要確認

Danger

danger

#ffdad6

#93000a

エラー、削除、破壊的操作

Success

success

#d7f0cb

#10200a

完了、保存成功

Surface

content1

#fceae7

#231918

標準カード、サイドバー

Background

background

#fff8f6

#231918

画面全体の背景

2. レイアウト・アーキテクチャ (Sidebar & Background)

A. 背景とサイドバーの階層 (Separation)

Main Canvas: 必ず #fff8f6 (bg-background)。

Sidebar: 背景は #fceae7 (bg-content1)。

物理的構造: サイドバーはメインキャンバスから浮き上がって見える必要がある。

shadow-lg shadow-primary/5 を付与し、border-r-1 border-divider/10 で境界を定義。

アイテムの Active ステートは必ず bg-primary-50 (#ffdad5) を使用。

3. コンポーネント完全網羅定義 (The Complete Encyclopedia)

3.1 アクション & ボタン (Actions)

Button:

radius="full" font-bold active:scale-95 transition-all

【最重要】アイコン整列: className="flex items-center justify-center gap-2 px-6 h-12"

左上寄り防止: アイコンは必ず items-center justify-center 内に配置し、ボタンの高さの中心とアイコンの中心を一致させること。

isIconOnly の場合は、w-12 h-12 flex items-center justify-center を強制。

ButtonGroup: radius="full" className="shadow-sm"

Kbd: className="bg-content2/50 border-none font-mono text-primary"

Dropdown: radius="md" (12px)、アイテムは rounded-full。

3.2 フォーム・入力系 (Forms)

Input / Textarea / Number Input:

variant="flat" radius="lg" (16px)

classNames={{ inputWrapper: "bg-content2/40 px-4 h-14 focus-within:bg-background border-b-2 border-transparent focus-within:border-primary shadow-inner" }}

Autocomplete / Select: popoverProps={{ className: "rounded-[20px] shadow-2xl" }}

Input OTP: radius="md" input: "border-2 border-transparent focus:border-primary h-14"

Checkbox / Checkbox Group / Radio Group: color="primary" label: "ml-2 font-medium"

Switch: radius="full" classNames={{ wrapper: "group-data-[selected=true]:bg-primary shadow-none" }}

Date Input / Picker / Range Calendar: radius="lg" calendarProps={{ className: "rounded-[28px] bg-background p-4 shadow-xl" }}

Slider: color="primary" classNames={{ track: "bg-content2", thumb: "bg-primary shadow-lg border-2 border-background" }}

3.3 データ表示 (Data Display)

Accordion: variant="light" item: "bg-content1 rounded-[20px] px-6 mb-2"

Avatar / User: radius="lg" (16px) / name: "font-bold text-on-surface"

Badge / Chip: radius="full" variant="flat" className="bg-primary-50 text-primary-900 px-3"

Card:

メイン: rounded-[28px] bg-content1 p-8 shadow-none

サブ: rounded-[20px] bg-content2 p-6

Table: radius="lg" (20px) th: "bg-content2/50 text-primary font-bold py-4"

Listbox: item: "rounded-full px-6 py-2 my-1"

Image: radius="lg" (20px) shadow-none

Divider: className="bg-divider/30 my-6"

Code / Snippet: className="bg-content2 rounded-lg text-primary"

Scroll Shadow: className="max-h-[300px]"

3.4 フィードバック & ナビゲーション (Feedback & Nav)

Alert: variant="flat" radius="lg" className="p-4 gap-4 border-none shadow-sm" (文字色はセクション1.Cに従う)

Modal / Drawer: radius="lg" (28px) base: "bg-background/90 backdrop-blur-xl"

Tabs: variant="solid" radius="full" classNames={{ tabList: "bg-content2/50 p-1", cursor: "bg-primary shadow-lg" }}

Navbar: className="h-16 px-8 bg-background/80 backdrop-blur-md fixed top-0 w-full"

Pagination: radius="full" cursor: "bg-primary text-white"

Progress / Circular Progress: color="primary" classNames={{ track: "bg-content2", indicator: "bg-primary" }}

Popover / Tooltip: radius="md" (12px) className="bg-content2 shadow-xl border-none"

Toast: radius="full" className="bg-on-surface text-background font-bold px-8 shadow-2xl"

Breadcrumbs: separator: "text-default-300", 最終要素は font-bold text-primary。

4. 読み込み中 & 待機設計 (Loading Architecture)

A. Skeleton の義務化 (多用ルール)

「封解Box」では、データ取得が 200ms を超える可能性のある全ての領域（カード、リスト、入力欄）に Skeleton を使用しなければならない。

物理的整合性: 置換対象のコンポーネントと 全く同じ角丸・高さ・幅 を強制せよ。

Color: before:bg-primary-50 を適用し、温かみのある M3 パルスを再現。

B. Spinner の補助

用途: ボタン内の処理中、小さな情報の更新。

Props: color="primary" size="sm" を基本とする。

5. 品質保証チェックリスト (Final Guardrails)

❌ アイコンの「左上寄り」禁止: 全てのボタン内アイコンは flex items-center justify-center で中央に据えられているか？

❌ サイドバーと背景の同色禁止: 背景は background、サイドバーは content1 で明確に分離されているか？

❌ 純白 (#FFFFFF) 禁止: 全ての背景に #fff8f6 を徹底しているか？

❌ 警告・エラーの文字色不備: 定義された On-Container カラーを使用し、アクセシビリティを確保しているか？

✅ 余白の呼吸: 全ての gap, p, m が 8dp グリッド（または 4px/12px スケール）に適合しているか？

✅ マイクロインタラクション: 全ての Button に whileTap={{ scale: 0.95 }} を付与しているか？