# 封解Box 開発タスク

## 現在のフェーズ: Phase 1 - 認証・ロール管理

---

## Phase 0: プロジェクトセットアップ ✅ 完了

- [x] Next.js プロジェクト初期化 (App Router)
- [x] Turso データベースセットアップ
- [x] 環境変数設定
- [x] 基本的なディレクトリ構造作成
- [x] HeroUIの準備
- [x] Vercel環境変数設定（ユーザーによる手動確認）

---

## Phase 1: 認証・ロール管理 ✅ 完了

- [x] Discord OAuth2 実装
- [x] ゲストログイン実装
- [x] 未ログインフロー実装
- [x] ロール判定ロジック(OAuthを使用)
  - [x] 儀長判定（Discord ID）
  - [x] 儀員判定（Discord ロール）
  - [x] 名誉儀員判定
- [x] ミドルウェアでのアクセス制御
- [x] セッション管理

---

## Phase 2: 台所（料理システム） ✅ 完了

- [x] 料理一覧画面
- [x] 新規作成ページ
- [x] 料理詳細ページ (Mock廃止, 実DB接続)
- [x] 調理タブ
  - [x] セクション管理 (Server Actions連携)
  - [x] 推敲機能
  - [x] 推敲提案機能
- [ ] AI評価連携（GLM-4.6V-Flash,後回しでもよい）
- [x] 画像upタブ
  - [x] R2へのアップロード (UI実装済, Point連携済)
  - [x] 点数加算処理
- [x] 画像採用タブ
- [x] ダウンロードタブ
- [ ] 情報反映機能 (Phase 3へ移行)
- [ ] 投稿予約機能 (Phase 6へ統合)

---

## Phase 3: ホーム・設定

- [ ] サイドバーナビゲーション
- [ ] ホーム画面ウィジェット
  - [ ] ライブ配信通知
  - [ ] ランキング表示
  - [ ] 名誉儀員表示
  - [ ] 最新動画表示
- [ ] ユーザー設定画面
- [ ] DevStudio（儀長）
- [ ] AdminPanel（儀長）

---

## Phase 4: 界域百科事典

- [ ] 百科事典ホーム
- [ ] 検索機能
- [ ] ジャンル表示
- [ ] 年表表示
- [ ] 単語詳細画面
- [ ] 関連単語表示

---

## Phase 5: 封解Box Tools

- [ ] App登録機能
- [ ] Tools工房
  - [ ] AIによるApp作成
  - [ ] クレジット管理
- [ ] Gallery
  - [ ] カテゴリ表示
  - [ ] App実行
  - [ ] 評価・コメント

---

## Phase 6: YoutubeManager

- [ ] アナリティクスタブ
- [ ] 予約投稿タブ
- [ ] 予約変更機能

---

## Phase 7: 儀員点数API

- [ ] Hono または FastAPI プロジェクト作成
- [ ] 認証実装
- [ ] エンドポイント実装
  - [ ] ヘルスチェック
  - [ ] 点数取得
  - [ ] 順位取得
  - [ ] 点数増減

---

## Phase 8: その他・統合

- [ ] 環状世界wiki連携
- [ ] Youtube配信検知
- [ ] 通知システム
- [ ] 総合テスト
- [ ] 本番デプロイ
